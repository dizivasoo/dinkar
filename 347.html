<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> determinant</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, Helvetica, sans-serif;
}
@property --angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

body{
  background:linear-gradient(135deg,#eef2ff,#ecfeff);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ================= TEST BOX ================= */
.test-box{
  width:95%;
  max-width:520px;
  background:rgba(255,255,255,0.85);
  backdrop-filter:blur(12px);
  border-radius:18px;
  padding:20px;
  box-shadow:0 10px 25px rgba(0,0,0,0.12);
}

.header{
  text-align:center;
  margin-bottom:16px;
}

.header h2{
  font-size:22px;
  font-weight:800;
}

.progress{
  font-size:14px;
  color:#555;
  margin-top:6px;
}

.question{
  font-size:18px;
  font-weight:600;
  margin:20px 0;
}

.options{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.option{
  padding:14px;
  border-radius:12px;
  background:#f1f5f9;
  border:1px solid #e5e7eb;
  cursor:pointer;
  transition:0.2s;
}

.option:hover{
  background:#e0e7ff;
}

.option.correct{
  background:#dcfce7;
  border-color:#22c55e;
  color:#166534;
  font-weight:600;
}

.option.wrong{
  background:#fee2e2;
  border-color:#ef4444;
  color:#7f1d1d;
  font-weight:600;
}

.btn{
  margin-top:20px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#2563eb;
  color:#fff;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

.btn:disabled{
  background:#9ca3af;
  cursor:not-allowed;
}

/* ================= RESULT SECTION ================= */
.result-card{
  background:rgba(255,255,255,0.75);
  backdrop-filter:blur(16px);
  border-radius:22px;
  padding:28px;
  box-shadow:0 18px 40px rgba(0,0,0,0.15);
  text-align:center;
}

.result-card h2{
  font-size:24px;
  font-weight:900;
}

/* Donut Chart */
.donut{
  width:170px;
  height:170px;
  border-radius:50%;
  margin:22px auto;
  background:
    conic-gradient(
      #22c55e 0deg,
      #22c55e var(--correct),
      #ef4444 var(--correct),
      #ef4444 360deg
    );
  position:relative;
  animation:fillDonut 1.2s ease-out;
}

.donut::after{
  content:'';
  position:absolute;
  inset:26px;
  border-radius:50%;
  background:rgba(255,255,255,0.95);
}

@keyframes fillDonut{
  from{
    background:conic-gradient(#e5e7eb 0deg,#e5e7eb 360deg);
  }

}
/* Animated Donut */
.donut{
  width:170px;
  height:170px;
  border-radius:50%;
  margin:22px auto;
  position:relative;

  --angle: 0deg;

  background:conic-gradient(
    #22c55e 0deg,
    #22c55e var(--angle),
    #ef4444 var(--angle),
    #ef4444 360deg
  );

  animation: fillDonut 1.4s ease-out forwards;
}

@keyframes fillDonut{
  from{
    --angle: 0deg;
  }
  to{
    --angle: var(--target);
  }
}

.donut::after{
  content:'';
  position:absolute;
  inset:26px;
  background:rgba(255,255,255,0.95);
  border-radius:50%;
}


@keyframes donutFill{
  from{
    background:conic-gradient(#e5e7eb 0deg,#e5e7eb 360deg);
  }
  to{
    background:conic-gradient(
      #22c55e 0deg,
      #22c55e var(--correct),
      #ef4444 var(--correct),
      #ef4444 360deg
    );
  }
}

.donut::after{
  content:'';
  position:absolute;
  inset:26px;
  border-radius:50%;
  background:rgba(255,255,255,0.95);
}

/* Retake Button */
.retake-btn{
  margin-top:22px;
  padding:14px;
  width:100%;
  border:none;
  border-radius:14px;
  background:#2563eb;
  color:#fff;
  font-size:16px;
  font-weight:800;
  cursor:pointer;
  transition:0.2s;
}

.retake-btn:hover{
  background:#1d4ed8;
}

/* Score */
.result-score{
  font-size:22px;
  font-weight:800;
  margin-top:8px;
}

.result-stats{
  display:flex;
  justify-content:space-between;
  margin-top:18px;
  padding:0 20px;
  font-size:15px;
  font-weight:700;
}
.result-actions{
  display:flex;
  gap:12px;
  margin-top:18px;
}

.btn.secondary{
  background:rgba(255,255,255,0.35);
  color:#1f2937;
  border:1px solid rgba(255,255,255,0.5);
  backdrop-filter:blur(10px);
}

.btn.secondary:hover{
  background:rgba(255,255,255,0.55);
}

.correct-text{color:#16a34a}
.wrong-text{color:#dc2626}
</style>
</head>

<body>

<div class="test-box">
  <div class="header">
    <h2>Dinkar Test</h2>
    <div class="progress" id="progress">Question 1 / 10</div>
  </div>

  <div class="question" id="questionText"></div>
  <div class="options" id="optionsBox"></div>

  <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>
    Next Question
  </button>
</div>

<!-- Sounds -->
<audio id="correctSound">
  <source src="C:\Users\MY-PC\Downloads\successed-295058.mp3">
</audio>

<audio id="wrongSound">
  <source src="C:\Users\MY-PC\Downloads\error-010-206498.mp3">
</audio>

<script>
/* QUESTIONS */
const questions = [
{q:"Determinant of identity matrix is",o:["1","0","2","-1"],a:0},
{q:"If two rows are same, determinant is",o:["0","1","-1","2"],a:0},
{q:"Determinant changes sign if",o:["Rows interchanged","Rows multiplied","Added","None"],a:0},
{q:"Value of |Aáµ€| =",o:["|A|","0","1","-1"],a:0},
{q:"Determinant of triangular matrix is",o:["Product of diagonal","0","1","None"],a:0},
{q:"If one row is zero then det is",o:["0","1","-1","None"],a:0},
{q:"Area of triangle can be found using",o:["Determinant","Matrix","Vector","None"],a:0},
{q:"Cramerâ€™s rule applies when det â‰ ",o:["0","1","-1","None"],a:0},
{q:"Minor of element is determinant after",o:["Deleting row & column","Transpose","Inverse","None"],a:0},
{q:"Cofactor equals",o:["Â± minor","Minor","0","None"],a:0}
];


let index = 0;
let score = 0;
let answered = false;

const qText = document.getElementById("questionText");
const optionsBox = document.getElementById("optionsBox");
const nextBtn = document.getElementById("nextBtn");
const progress = document.getElementById("progress");

const correctSound = document.getElementById("correctSound");
const wrongSound = document.getElementById("wrongSound");

function loadQuestion(){
  answered = false;
  nextBtn.disabled = true;
  optionsBox.innerHTML = "";

  const q = questions[index];
  qText.textContent = q.q;
  progress.textContent = `Question ${index+1} / 10`;

  q.o.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = opt;

    div.onclick = () => {
      if(answered) return;
      answered = true;

      if(i === q.a){
        div.classList.add("correct");
        correctSound.currentTime = 0;
        correctSound.play();
        score++;
      } else {
        div.classList.add("wrong");
        wrongSound.currentTime = 0;
        wrongSound.play();
        optionsBox.children[q.a].classList.add("correct");
      }
      nextBtn.disabled = false;
    };

    optionsBox.appendChild(div);
  });
}
function goDashboard(){
  window.location.href = "dashboard.html";
}

function nextQuestion(){
  index++;
  if(index < questions.length){
    loadQuestion();
  } else {
    showResult();
  }
}
function retakeTest(){
  index = 0;
  score = 0;
  loadQuestion();

  document.querySelector(".test-box").innerHTML = `
    <div class="header">
      <h2>Dinkar Test</h2>
      <div class="progress" id="progress"></div>
    </div>

    <div class="question" id="questionText"></div>
    <div class="options" id="optionsBox"></div>

    <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>
      Next Question
    </button>
  `;

  // Rebind elements
  qText = document.getElementById("questionText");
  optionsBox = document.getElementById("optionsBox");
  nextBtn = document.getElementById("nextBtn");
  progress = document.getElementById("progress");

  loadQuestion();
}

/* ===== RESULT FUNCTION (UPDATED ONLY) ===== */
function showResult(){
  const correct = score;
  const wrong = 10 - score;
  const degree = (correct / 10) * 360;
localStorage.getItem("maths_chapter_15")
  document.querySelector(".test-box").innerHTML = `
    <div class="result-card">
      <h2>Test Completed ðŸŽ‰</h2>

      <div class="donut" style="--target:${degree}deg"></div>


      <div class="result-score">
        Score: ${correct} / 10
      </div>

      <div class="result-stats">
        <div class="correct-text">âœ” Correct: ${correct}</div>
        <div class="wrong-text">âœ– Wrong: ${wrong}</div>
      </div>

    
<div class="result-actions">
  <button class="btn secondary" onclick="goDashboard()">Dashboard</button>
  <button class="btn" onclick="location.reload()">Retake</button>
</div>

    </div>
  `;
}


loadQuestion();
</script>

</body>
</html>
